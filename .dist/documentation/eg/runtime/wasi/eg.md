<!-- Code generated by gomarkdoc. DO NOT EDIT -->

```go
import "github.com/egdaemon/eg/runtime/wasi/eg"
```



<a name="Perform"></a>
## func [Perform](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L82>)

```go
func Perform(ctx context.Context, tasks ...OpFn) error
```

execute the provided tasks in sequential order.

<a name="ContainerModuleRunner"></a>
## type [ContainerModuleRunner](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L324-L326>)



```go
type ContainerModuleRunner struct {
    ContainerRunner
}
```

<a name="ContainerModuleRunner.RunWith"></a>
### func \(ContainerModuleRunner\) [RunWith](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L328>)

```go
func (t ContainerModuleRunner) RunWith(ctx context.Context, mpath string) (err error)
```



<a name="ContainerRunner"></a>
## type [ContainerRunner](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L213-L220>)



```go
type ContainerRunner struct {
    // contains filtered or unexported fields
}
```

<a name="Container"></a>
### func [Container](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L180>)

```go
func Container(name string) ContainerRunner
```

Run the tasks with the specified container.

<a name="DefaultModule"></a>
### func [DefaultModule](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L20>)

```go
func DefaultModule() ContainerRunner
```

Generally unsafe predefined runner for modules useful for providing a base line environment but has no long term stability promises.

<a name="ContainerRunner.BuildFromFile"></a>
### func \(ContainerRunner\) [BuildFromFile](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L223>)

```go
func (t ContainerRunner) BuildFromFile(s string) ContainerRunner
```

specifies the location of the container file on disk.

<a name="ContainerRunner.Command"></a>
### func \(ContainerRunner\) [Command](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L235>)

```go
func (t ContainerRunner) Command(s string) ContainerRunner
```

the command to execute.

<a name="ContainerRunner.CompileWith"></a>
### func \(ContainerRunner\) [CompileWith](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L241>)

```go
func (t ContainerRunner) CompileWith(ctx context.Context) (err error)
```

CompileWith builds the container and

<a name="ContainerRunner.OptionEnv"></a>
### func \(ContainerRunner\) [OptionEnv](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L300>)

```go
func (t ContainerRunner) OptionEnv(k, v string) ContainerRunner
```



<a name="ContainerRunner.OptionEnvVar"></a>
### func \(ContainerRunner\) [OptionEnvVar](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L295>)

```go
func (t ContainerRunner) OptionEnvVar(k string) ContainerRunner
```



<a name="ContainerRunner.OptionPrivileged"></a>
### func \(ContainerRunner\) [OptionPrivileged](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L279>)

```go
func (t ContainerRunner) OptionPrivileged() ContainerRunner
```

unsafe not recommended for use.

<a name="ContainerRunner.OptionUser"></a>
### func \(ContainerRunner\) [OptionUser](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L285>)

```go
func (t ContainerRunner) OptionUser(username string) ContainerRunner
```

experimental not recommended for use.

<a name="ContainerRunner.OptionVolume"></a>
### func \(ContainerRunner\) [OptionVolume](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L307>)

```go
func (t ContainerRunner) OptionVolume(host, guest string) ContainerRunner
```

Mount a directory into the container at the provided host, guest paths as immutable. this allows the container to active as if its writing but not to have any of the changes persisted

<a name="ContainerRunner.OptionVolumeReadOnly"></a>
### func \(ContainerRunner\) [OptionVolumeReadOnly](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L313>)

```go
func (t ContainerRunner) OptionVolumeReadOnly(host, guest string) ContainerRunner
```

Mount a directory into the container at the provided host, guest paths as read only.

<a name="ContainerRunner.OptionVolumeWritable"></a>
### func \(ContainerRunner\) [OptionVolumeWritable](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L319>)

```go
func (t ContainerRunner) OptionVolumeWritable(host, guest string) ContainerRunner
```

Mount a directory into the container at the provided the host, guest paths as mutable

<a name="ContainerRunner.OptionWorkingDirectory"></a>
### func \(ContainerRunner\) [OptionWorkingDirectory](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L290>)

```go
func (t ContainerRunner) OptionWorkingDirectory(dir string) ContainerRunner
```



<a name="ContainerRunner.PullFrom"></a>
### func \(ContainerRunner\) [PullFrom](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L229>)

```go
func (t ContainerRunner) PullFrom(s string) ContainerRunner
```

pull the container from a remote repository.

<a name="ContainerRunner.RunWith"></a>
### func \(ContainerRunner\) [RunWith](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L264>)

```go
func (t ContainerRunner) RunWith(ctx context.Context, mpath string) (err error)
```



<a name="ContainerRunner.ToModuleRunner"></a>
### func \(ContainerRunner\) [ToModuleRunner](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L274>)

```go
func (t ContainerRunner) ToModuleRunner() ContainerModuleRunner
```

internal use.

<a name="Op"></a>
## type [Op](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L31-L33>)



```go
type Op interface {
    ID() string
}
```

<a name="OpFn"></a>
## type [OpFn](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L34>)



```go
type OpFn func(context.Context, Op) error
```

<a name="Build"></a>
### func [Build](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L337>)

```go
func Build(r Runner) OpFn
```



<a name="Exec"></a>
### func [Exec](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L353>)

```go
func Exec(ctx context.Context, r Runner) OpFn
```

Exec executes command with the given runner Important: this method acts as an Instrumentation point by the runtime.

<a name="Module"></a>
### func [Module](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L345>)

```go
func Module(ctx context.Context, r Runner, references ...OpFn) OpFn
```

Module executes a set of operations within the provided environment. Important: this method acts as an Instrumentation point by the runtime.

<a name="Parallel"></a>
### func [Parallel](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L121>)

```go
func Parallel(operations ...OpFn) OpFn
```

Run operations in parallel. WARNING: currently due to limitations within wasi runtimes threading isn't supported. this makes parallelism impossible natively within the runtime; however some operations like executing modules can be done in parallel since they are manage on the host and not inside the runtime. in the future when wasi environments gain threading this will automatically begin running operations in parallel natively. to prevent issues in the future we shuffle operations to ensure callers are not implicitly relying on order.

<a name="Sequential"></a>
### func [Sequential](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L94>)

```go
func Sequential(operations ...OpFn) OpFn
```



<a name="UnsafeExec"></a>
### func [UnsafeExec](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L369>)

```go
func UnsafeExec(ctx context.Context, r Runner, modulepath string) OpFn
```

Deprecated: this is intended for internal use only. do not use. used to replace the exec invocations at runtime.

<a name="UnsafeRunner"></a>
### func [UnsafeRunner](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L361>)

```go
func UnsafeRunner(ctx context.Context, r Runner, modulepath string) OpFn
```

Deprecated: this is intended for internal use only. do not use. used to replace invocations at runtime.

<a name="When"></a>
### func [When](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L158>)

```go
func When(b bool, o OpFn) OpFn
```

make a operation conditional on a boolean value.

<a name="WhenFn"></a>
### func [WhenFn](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L163>)

```go
func WhenFn(b func(ctx context.Context) bool, o OpFn) OpFn
```

make an operation conditional on a boolean function.

<a name="Reference"></a>
## type [Reference](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L27-L29>)

A reference to an operation. used during instrumentation.

```go
type Reference interface {
    ID() string
}
```

<a name="UnsafeTranspiledRef"></a>
### func [UnsafeTranspiledRef](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L74>)

```go
func UnsafeTranspiledRef(name string, o OpFn) Reference
```

Deprecated: this is intended for internal use only. do not use. its use may prevent future builds from executing.

<a name="Runner"></a>
## type [Runner](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/eg/eg.go#L174-L177>)

interface to workload runners, used to represent containers, vms, or other such runtimes.

```go
type Runner interface {
    CompileWith(ctx context.Context) (err error)
    RunWith(ctx context.Context, mpath string) (err error)
}
```

