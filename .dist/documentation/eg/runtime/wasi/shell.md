<!-- Code generated by gomarkdoc. DO NOT EDIT -->

```go
import "github.com/egdaemon/eg/runtime/wasi/shell"
```



<a name="Run"></a>
## func [Run](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L112>)

```go
func Run(ctx context.Context, cmds ...Command) (err error)
```



<a name="Command"></a>
## type [Command](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L14-L21>)



```go
type Command struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L83>)

```go
func New(cmd string) Command
```

New create a new command with reasonable defaults. defaults:

```
timeout: 5 minutes.
```

<a name="Newf"></a>
### func [Newf](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L91>)

```go
func Newf(cmd string, options ...any) Command
```

Newf provides a simple printf form of creating commands.

<a name="Runtime"></a>
### func [Runtime](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L106>)

```go
func Runtime() Command
```

Runtime creates a Command with no specified command to run. and can be used as a template:

tmp := shell.Runtime\(\).Environ\("FOO", "BAR"\)

shell.Run\(

```
tmp.New("ls -lha"),
tmp.New("echo hello world"),
```

\)

<a name="Command.Attempts"></a>
### func \(Command\) [Attempts](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L24>)

```go
func (t Command) Attempts(a int16) Command
```

number of attempts to make before giving up.

<a name="Command.Directory"></a>
### func \(Command\) [Directory](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L30>)

```go
func (t Command) Directory(d string) Command
```

directory to run the command in. must be a relative path.

<a name="Command.Environ"></a>
### func \(Command\) [Environ](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L54>)

```go
func (t Command) Environ(k, v string) Command
```

append a specific key/value environment variable.

<a name="Command.EnvironFrom"></a>
### func \(Command\) [EnvironFrom](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L48>)

```go
func (t Command) EnvironFrom(environ ...string) Command
```

append a set of environment variables in the form KEY=VALUE to the environment.

<a name="Command.Lenient"></a>
### func \(Command\) [Lenient](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L36>)

```go
func (t Command) Lenient(d bool) Command
```

directory to run the command in. must be a relative path.

<a name="Command.New"></a>
### func \(Command\) [New](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L61>)

```go
func (t Command) New(cmd string) Command
```

New clone the current command configuration and replace the command that will be executed.

<a name="Command.Newf"></a>
### func \(Command\) [Newf](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L75>)

```go
func (t Command) Newf(cmd string, options ...any) Command
```

Newf provides a simple printf form of creating commands.

<a name="Command.Timeout"></a>
### func \(Command\) [Timeout](<https://github.com/egdaemon/eg/blob/main/runtime/wasi/shell/shell.go#L42>)

```go
func (t Command) Timeout(d time.Duration) Command
```

maximum duration for a command to run.

