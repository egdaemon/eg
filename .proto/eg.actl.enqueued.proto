syntax = "proto3";

package eg.actl;

message Enqueued {
  string id = 1 [ json_name = "id" ];
  int64 created_at = 2 [ json_name = "created_at" ];
  int64 updated_at = 3 [ json_name = "updated_at" ];
  string arch = 4 [ json_name = "arch" ];
  string os = 5 [ json_name = "os" ];
  uint64 cores = 6 [ json_name = "cores" ];
  uint64 memory = 7 [ json_name = "memory" ];
  uint64 vram = 8 [ json_name = "vram" ];
  uint64 ttl = 9 [ json_name = "ttl" ];
  string cluster_id = 10 [ json_name = "cid" ];
  string entry = 11 [ json_name = "entrypoint" ];
  int64 initiated_at = 12 [ json_name = "initiated_at" ];
  int64 completed_at = 13 [ json_name = "completed_at" ];
  reserved 14 to 999;
  repeated string labels = 1000 [ json_name = "labels" ];
}

message EnqueuedSearchRequest {
  string query = 1 [ json_name = "query" ];
  int64 offset = 2 [ json_name = "offset" ];
  int32 limit = 3 [ json_name = "limit" ];
  string arch = 4 [ json_name = "arch" ];
  string os = 5 [ json_name = "os" ];
  uint64 cores = 6 [ json_name = "cores" ];
  uint64 memory = 7 [ json_name = "memory" ];
  uint64 vram = 8 [ json_name = "vram" ];
  string cluster_id = 9 [ json_name = "cid" ];
  reserved 10 to 999;
  repeated string labels = 1000 [ json_name = "labels" ];
}

message EnqueuedSearchResponse {
  EnqueuedSearchRequest next = 1 [ json_name = "next" ];
  repeated Enqueued items = 2 [ json_name = "items" ];
}

message EnqueuedCreateRequest {
  Enqueued enqueued = 1 [ json_name = "enqueue" ];
}
message EnqueuedCreateResponse {
  Enqueued enqueued = 1 [ json_name = "enqueue" ];
}

message EnqueuedUpdateRequest {
  Enqueued enqueued = 1 [ json_name = "enqueue" ];
}
message EnqueuedUpdateResponse {
  Enqueued enqueued = 1 [ json_name = "enqueue" ];
}

message EnqueuedDequeueResponse {
  Enqueued enqueued = 1 [ json_name = "enqueued" ];
}

message EnqueuedDownloadRequest {}

message EnqueuedCompletedRequest {}
message EnqueuedCompletedResponse {
  Enqueued enqueued = 1 [ json_name = "enqueue" ];
}
